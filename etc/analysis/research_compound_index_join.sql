
explain
select pur.PURCHASE_ID, mb.MEMBER_NAME, prod.PRODUCT_NAME
  from PURCHASE pur
    inner join MEMBER mb on pur.MEMBER_ID = mb.MEMBER_ID
    inner join PRODUCT prod on pur.PRODUCT_ID = prod.PRODUCT_ID
 where pur.MEMBER_ID = 1
   and prod.PRODUCT_NAME like '%s%'
   and pur.PURCHASE_DATETIME <= now()
-------------+-------------------------+---------+---------------------------------+------+----------+--------------------------+
| id | select_type | table | partitions | type  | possible_keys                                                                                                     | key                     | key_len | ref                             | rows | filtered | Extra                    |
+----+-------------+-------+------------+-------+-------------------------------------------------------------------------------------------------------------------+-------------------------+---------+---------------------------------+------+----------+--------------------------+
|  1 | SIMPLE      | mb    | NULL       | const | PRIMARY                                                                                                           | PRIMARY                 | 4       | const                           |    1 |   100.00 | NULL                     |
|  1 | SIMPLE      | prod  | NULL       | index | PRIMARY                                                                                                           | IX_PRODUCT_PRODUCT_NAME | 202     | NULL                            |   20 |    11.11 | Using where; Using index |
|  1 | SIMPLE      | pur   | NULL       | ref   | UQ_PURCHASE,IX_PURCHASE_MEMBER_ID,IX_PURCHASE_PRODUCT_ID,IX_PURCHASE_PRODUCT_DATETIME,IX_PURCHASE_DATETIME_MEMBER | UQ_PURCHASE             | 8       | const,maihamadb.prod.PRODUCT_ID |    1 |   100.00 | Using where; Using index |
+----+-------------+-------+------------+-------+-------------------------------------------------------------------------------------------------------------------+-------------------------+---------+---------------------------------+------+----------+--------------------------+
3 rows in set, 1 warning (0.03 sec)
+-------+------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Level | Code | Message                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
+-------+------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Note  | 1003 | /* select#1 */
select `maihamadb`.`pur`.`PURCHASE_ID` AS `PURCHASE_ID`,'Stojkovic' AS `MEMBER_NAME`,`maihamadb`.`prod`.`PRODUCT_NAME` AS `PRODUCT_NAME`
  from `maihamadb`.`purchase` `pur`join `maihamadb`.`member` `mb`
    join `maihamadb`.`product` `prod`
 where ((`maihamadb`.`pur`.`PRODUCT_ID` = `maihamadb`.`prod`.`PRODUCT_ID`)
   and (`maihamadb`.`pur`.`MEMBER_ID` = 1)
   and (`maihamadb`.`prod`.`PRODUCT_NAME` like '%s%')
   and (`maihamadb`.`pur`.`PURCHASE_DATETIME` <= <cache>(now()))) |
+-------+------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

